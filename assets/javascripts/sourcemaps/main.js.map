{"version":3,"sources":["main.js"],"names":["getStars","links","document","getElementsByClassName","i","length","link","url","getElementsByTagName","getAttribute","match","exec","toLowerCase","getStarsRequest","repo","xmlHttp","XMLHttpRequest","onreadystatechange","readyState","status","appendStars","responseText","open","send","response","stars","JSON","parse","stargazers_count","starString","innerHTML"],"mappings":"AAIA,SAASA,WAIP,IAFA,IAAIC,EAAQC,SAASC,uBAAuB,QAEnCC,EAAI,EAAGA,EAAIH,EAAMI,OAAQD,IAAK,CACrC,IAAIE,EAAOL,EAAMG,GACbG,EAAMD,EAAKE,qBAAqB,KAAK,GAAGC,aAAa,QAErDC,EADY,0BACMC,KAAKJ,EAAIK,eAC/B,GAAIF,EAGFG,gBAAgBP,EADLI,EAAM,KAOvB,SAASG,gBAAgBP,EAAMQ,GAC3B,IACIC,EAAU,IAAIC,eAClBD,EAAQE,mBAAqB,WACD,GAAtBF,EAAQG,YAAqC,KAAlBH,EAAQI,QACrCC,YAAYd,EAAMS,EAAQM,eAG9BN,EAAQO,KAAK,MAPA,gCAOgBR,GAAM,GACnCC,EAAQQ,KAAK,MAIjB,SAASH,YAAYd,EAAMkB,GACzB,IAAIC,EAAQC,KAAKC,MAAMH,GAAUI,iBACjC,GAAIH,EAAO,CACT,IACII,EAAaJ,EAAQ,UADrBI,EAAuB,IAAVJ,EAAc,OAAS,SAExCnB,EAAKwB,WAAa,gBAAkBD,EAAa,YAvCrD7B","file":"../main.js","sourcesContent":["// Functions to run when page is loaded\ngetStars();\n\n// getStars finds GitHub repo links and gets their star count\nfunction getStars() {\n  // Get main links (doesn't include services)\n  var links = document.getElementsByClassName('link');\n  // Search each url for a GitHub repository\n  for (var i = 0; i < links.length; i++) {\n    var link = links[i];\n    var url = link.getElementsByTagName('a')[0].getAttribute('href');\n    var repoRegex = /github\\.com\\/(.*?\\/.*)$/;\n    var match = repoRegex.exec(url.toLowerCase());\n    if (match) {\n      // Get stars from GitHub\n      var repo = match[1];\n      getStarsRequest(link, repo);\n    }\n  }\n}\n\n// getStarsRequest sends a GitHub api request to fetch a repo's star count\nfunction getStarsRequest(link, repo) {\n    var apiUrl = \"https://api.github.com/repos/\";\n    var xmlHttp = new XMLHttpRequest();\n    xmlHttp.onreadystatechange = function() {\n      if (xmlHttp.readyState == 4 && xmlHttp.status == 200) {\n        appendStars(link, xmlHttp.responseText);\n      }\n    }\n    xmlHttp.open(\"GET\", apiUrl + repo, true);\n    xmlHttp.send(null);\n}\n\n// appendStars adds stars to GitHub repo links if there are any\nfunction appendStars(link, response) {\n  var stars = JSON.parse(response).stargazers_count;\n  if (stars) {\n    var starString = stars === 1 ? 'star' : 'stars';\n    var starString = stars + '&nbsp;' + starString;\n    link.innerHTML += '&nbsp;<small>' + starString + '</small>';\n  }\n}\n"]}